import{z as h,A as q,B as v,e as d,w as f,C as p,D as k,E as $,G as s,P as I,H as se,I as le,J as oe,K as c,L as ne,M as ie,t as A,N as ue,O as re,y as de,Q as ce,R as fe,S as Z,g as x,n as w,f as E,d as N,U as B,F as T,V as te,v as ve,h as P,W as ge}from"./BWLxhtib.js";import{g as me}from"./B54K_KEW.js";import{u as _}from"./CBe6dbS-.js";import{q as ee}from"./nndA8L2u.js";const pe=h({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(e){const l=e;return q(),(t,o)=>(d(),v(s(I),$(l,{"data-type":"ellipsis"}),{default:f(()=>[p(t.$slots,"default",{},()=>[o[0]||(o[0]=k("â€¦"))])]),_:3},16))}}),[S,be]=se("PaginationRoot"),ye=h({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(e,{emit:l}){const t=e,o=l,{siblingCount:n,disabled:a,showEdges:i}=le(t);q();const g=oe(t,"page",o,{defaultValue:t.defaultPage,passive:t.page===void 0}),b=c(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return be({page:g,onPageChange(u){g.value=u},pageCount:b,siblingCount:n,disabled:a,showEdges:i}),(u,z)=>(d(),v(s(I),{as:u.as,"as-child":u.asChild},{default:f(()=>[p(u.$slots,"default",{page:s(g),pageCount:b.value})]),_:3},8,["as","as-child"]))}}),he=h({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const l=e,t=S();q();const o=c(()=>t.page.value===1||t.disabled.value);return(n,a)=>(d(),v(s(I),$(l,{"aria-label":"First Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&s(t).onPageChange(1))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=k("First page"))])]),_:3},16,["type","disabled"]))}}),Pe=h({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const l=e,t=S();q();const o=c(()=>t.page.value===t.pageCount.value||t.disabled.value);return(n,a)=>(d(),v(s(I),$(l,{"aria-label":"Last Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&s(t).onPageChange(s(t).pageCount.value))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=k("Last page"))])]),_:3},16,["type","disabled"]))}});function C(e,l){const t=l-e+1;return Array.from({length:t},(o,n)=>n+e)}function Ce(e){return e.map(l=>typeof l=="number"?{type:"page",value:l}:{type:"ellipsis"})}const V="ellipsis";function xe(e,l,t,o){const a=l,i=Math.max(e-t,1),g=Math.min(e+t,a);if(o){const u=Math.min(2*t+5,l)-2,z=i>3&&Math.abs(a-u-1+1)>2&&Math.abs(i-1)>2,L=g<a-2&&Math.abs(a-u)>2&&Math.abs(a-g)>2;if(!z&&L)return[...C(1,u),V,a];if(z&&!L){const m=C(a-u+1,a);return[1,V,...m]}if(z&&L){const m=C(i,g);return[1,V,...m,V,a]}return C(1,a)}else{const b=t*2+1;return l<b?C(1,a):e<=t+1?C(1,b):l-e<=t?C(l-b+1,a):C(i,g)}}const $e=h({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(e){const l=e;q();const t=S(),o=c(()=>Ce(xe(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(n,a)=>(d(),v(s(I),ne(ie(l)),{default:f(()=>[p(n.$slots,"default",{items:o.value})]),_:3},16))}}),qe=h({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const l=e;q();const t=S(),o=c(()=>t.page.value===l.value),n=c(()=>t.disabled.value);return(a,i)=>(d(),v(s(I),$(l,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:n.value,type:a.as==="button"?"button":void 0,onClick:i[0]||(i[0]=g=>!n.value&&s(t).onPageChange(a.value))}),{default:f(()=>[p(a.$slots,"default",{},()=>[k(A(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Ie=h({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const l=e;q();const t=S(),o=c(()=>t.page.value===t.pageCount.value||t.disabled.value);return(n,a)=>(d(),v(s(I),$(l,{"aria-label":"Next Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&s(t).onPageChange(s(t).page.value+1))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=k("Next page"))])]),_:3},16,["type","disabled"]))}}),ze=h({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const l=e;q();const t=S(),o=c(()=>t.page.value===1||t.disabled.value);return(n,a)=>(d(),v(s(I),$(l,{"aria-label":"Previous Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&s(t).onPageChange(s(t).page.value-1))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=k("Prev page"))])]),_:3},16,["type","disabled"]))}}),Re={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},we={__name:"Pagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:l}){const t=e,o=l,n=ue(),{dir:a}=re(),i=de(),g=ce(fe(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),b=c(()=>t.firstIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleRight:i.ui.icons.chevronDoubleLeft)),u=c(()=>t.prevIcon||(a.value==="rtl"?i.ui.icons.chevronRight:i.ui.icons.chevronLeft)),z=c(()=>t.nextIcon||(a.value==="rtl"?i.ui.icons.chevronLeft:i.ui.icons.chevronRight)),L=c(()=>t.lastIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleLeft:i.ui.icons.chevronDoubleRight)),y=c(()=>{var m;return Z({extend:Z(Re),...((m=i.ui)==null?void 0:m.pagination)||{}})()});return(m,De)=>{var j;return d(),v(s(ye),$(s(g),{class:y.value.root({class:[(j=t.ui)==null?void 0:j.root,t.class]})}),{default:f(({page:R,pageCount:U})=>{var G;return[x(s($e),{class:w(y.value.list({class:(G=t.ui)==null?void 0:G.list}))},{default:f(({items:ae})=>{var H,J,K,O;return[e.showControls||n.first?(d(),v(s(he),{key:0,"as-child":"",class:w(y.value.first({class:(H=t.ui)==null?void 0:H.first}))},{default:f(()=>[p(m.$slots,"first",{},()=>{var r;return[x(B,{color:e.color,variant:e.variant,size:e.size,icon:b.value,to:(r=e.to)==null?void 0:r.call(e,1)},null,8,["color","variant","size","icon","to"])]})]),_:3},8,["class"])):E("",!0),e.showControls||n.prev?(d(),v(s(ze),{key:1,"as-child":"",class:w(y.value.prev({class:(J=t.ui)==null?void 0:J.prev}))},{default:f(()=>[p(m.$slots,"prev",{},()=>{var r;return[x(B,{color:e.color,variant:e.variant,size:e.size,icon:u.value,to:R>1?(r=e.to)==null?void 0:r.call(e,R-1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0),(d(!0),N(T,null,te(ae,(r,Q)=>{var W,X;return d(),N(T,null,[r.type==="page"?(d(),v(s(qe),{key:Q,"as-child":"",value:r.value,class:w(y.value.item({class:(W=t.ui)==null?void 0:W.item}))},{default:f(()=>[p(m.$slots,"item",$({ref_for:!0},{item:r,index:Q,page:R,pageCount:U}),()=>{var Y;return[x(B,{color:R===r.value?e.activeColor:e.color,variant:R===r.value?e.activeVariant:e.variant,size:e.size,label:String(r.value),ui:{label:y.value.label()},to:(Y=e.to)==null?void 0:Y.call(e,r.value),square:""},null,8,["color","variant","size","label","ui","to"])]})]),_:2},1032,["value","class"])):(d(),v(s(pe),{key:r.type,index:Q,"as-child":"",class:w(y.value.ellipsis({class:(X=t.ui)==null?void 0:X.ellipsis}))},{default:f(()=>[p(m.$slots,"ellipsis",{},()=>[x(B,{color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||s(i).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:2},1032,["index","class"]))],64)}),256)),e.showControls||n.next?(d(),v(s(Ie),{key:2,"as-child":"",class:w(y.value.next({class:(K=t.ui)==null?void 0:K.next}))},{default:f(()=>[p(m.$slots,"next",{},()=>{var r;return[x(B,{color:e.color,variant:e.variant,size:e.size,icon:z.value,to:R<U?(r=e.to)==null?void 0:r.call(e,R+1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0),e.showControls||n.last?(d(),v(s(Pe),{key:3,"as-child":"",class:w(y.value.last({class:(O=t.ui)==null?void 0:O.last}))},{default:f(()=>[p(m.$slots,"last",{},()=>{var r;return[x(B,{color:e.color,variant:e.variant,size:e.size,icon:L.value,to:(r=e.to)==null?void 0:r.call(e,U)},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0)]}),_:2},1032,["class"])]}),_:3},16,["class"])}}},ke={class:"text-2xl font-bold text-center mb-4"},Be={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},Se={class:"min-h-[100px] bg-gray-200"},Le=["src"],Ne={class:"px-4 py-2"},Ee={class:"text-lg font-bold mb-2"},Ve=["href"],Me={class:"text-sm text-gray-500 mb-2"},M="all",D="article",F=6,Te=h({__name:"index",setup(e){const l=ve(),t=c(()=>l.query.page?Number(l.query.page):1),o=c(()=>(t.value-1)*F),{data:n}=_(c(()=>`${M}_${D}_${t.value}_${o.value}_${F}`),()=>ee(M).where("type","=",D).order("date","DESC").skip(o.value).limit(F).all(),"$77hSeXQoip"),{data:a}=_(c(()=>`total_${M}_${D}`),()=>ee(M).where("type","=",D).count(),{lazy:!0});return(i,g)=>{const b=we;return d(),N("div",null,[P("h1",ke," Test Page (total: "+A(s(a))+" articles) ",1),P("div",Be,[(d(!0),N(T,null,te(s(n),(u,z)=>(d(),N("div",{key:u.id,class:"border border-gray-200 rounded-md relative"},[P("div",Se,[P("img",{src:s(me)(u.id),alt:"Article Image",class:"w-full h-auto mb-4"},null,8,Le)]),P("div",Ne,[P("h2",Ee,[P("a",{href:u.path,class:"text-blue-500 hover:text-blue-700 absolute top-0 left-0 w-full h-full"},null,8,Ve),k(" "+A(u.title),1)]),P("p",Me,A(u.description),1)])]))),128))]),x(b,{modelValue:s(t),"onUpdate:modelValue":g[0]||(g[0]=u=>ge(t)?t.value=u:null),total:s(a)??0,"items-per-page":F,"total-skip":s(o),to:u=>({path:"/",query:{page:u}})},null,8,["modelValue","total","total-skip","to"])])}}});export{Te as default};
