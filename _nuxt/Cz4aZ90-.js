import{z as P,A as z,B as g,e as r,w as f,C as p,D as S,E as q,G as l,P as R,H as te,I as ae,J as se,K as d,L as le,M as ne,t as A,N as oe,O as ie,y as ue,Q as re,R as de,S as X,g as I,n as k,f as E,d as L,U as B,F as U,V as _,v as ce,h as x,W as fe}from"./DU4TBk4R.js";import{g as ve}from"./B54K_KEW.js";import{u as Y}from"./DUOOQ1xl.js";import{q as Z}from"./CnHoC4Se.js";const ge=P({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return z(),(t,o)=>(r(),g(l(R),q(s,{"data-type":"ellipsis"}),{default:f(()=>[p(t.$slots,"default",{},()=>[o[0]||(o[0]=S("â€¦"))])]),_:3},16))}}),[N,me]=te("PaginationRoot"),pe=P({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(e,{emit:s}){const t=e,o=s,{siblingCount:n,disabled:a,showEdges:i}=ae(t);z();const b=se(t,"page",o,{defaultValue:t.defaultPage,passive:t.page===void 0}),y=d(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return me({page:b,onPageChange(c){b.value=c},pageCount:y,siblingCount:n,disabled:a,showEdges:i}),(c,C)=>(r(),g(l(R),{as:c.as,"as-child":c.asChild},{default:f(()=>[p(c.$slots,"default",{page:l(b),pageCount:y.value})]),_:3},8,["as","as-child"]))}}),be=P({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e,t=N();z();const o=d(()=>t.page.value===1||t.disabled.value);return(n,a)=>(r(),g(l(R),q(s,{"aria-label":"First Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&l(t).onPageChange(1))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=S("First page"))])]),_:3},16,["type","disabled"]))}}),ye=P({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e,t=N();z();const o=d(()=>t.page.value===t.pageCount.value||t.disabled.value);return(n,a)=>(r(),g(l(R),q(s,{"aria-label":"Last Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&l(t).onPageChange(l(t).pageCount.value))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=S("Last page"))])]),_:3},16,["type","disabled"]))}});function $(e,s){const t=s-e+1;return Array.from({length:t},(o,n)=>n+e)}function he(e){return e.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const V="ellipsis";function Pe(e,s,t,o){const a=s,i=Math.max(e-t,1),b=Math.min(e+t,a);if(o){const c=Math.min(2*t+5,s)-2,C=i>3&&Math.abs(a-c-1+1)>2&&Math.abs(i-1)>2,v=b<a-2&&Math.abs(a-c)>2&&Math.abs(a-b)>2;if(!C&&v)return[...$(1,c),V,a];if(C&&!v){const m=$(a-c+1,a);return[1,V,...m]}if(C&&v){const m=$(i,b);return[1,V,...m,V,a]}return $(1,a)}else{const y=t*2+1;return s<y?$(1,a):e<=t+1?$(1,y):s-e<=t?$(s-y+1,a):$(i,b)}}const Ce=P({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;z();const t=N(),o=d(()=>he(Pe(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(n,a)=>(r(),g(l(R),le(ne(s)),{default:f(()=>[p(n.$slots,"default",{items:o.value})]),_:3},16))}}),xe=P({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e;z();const t=N(),o=d(()=>t.page.value===s.value),n=d(()=>t.disabled.value);return(a,i)=>(r(),g(l(R),q(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":o.value?"page":void 0,"data-selected":o.value?"true":void 0,disabled:n.value,type:a.as==="button"?"button":void 0,onClick:i[0]||(i[0]=b=>!n.value&&l(t).onPageChange(a.value))}),{default:f(()=>[p(a.$slots,"default",{},()=>[S(A(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),$e=P({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e;z();const t=N(),o=d(()=>t.page.value===t.pageCount.value||t.disabled.value);return(n,a)=>(r(),g(l(R),q(s,{"aria-label":"Next Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&l(t).onPageChange(l(t).page.value+1))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=S("Next page"))])]),_:3},16,["type","disabled"]))}}),Ie=P({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e;z();const t=N(),o=d(()=>t.page.value===1||t.disabled.value);return(n,a)=>(r(),g(l(R),q(s,{"aria-label":"Previous Page",type:n.as==="button"?"button":void 0,disabled:o.value,onClick:a[0]||(a[0]=i=>!o.value&&l(t).onPageChange(l(t).page.value-1))}),{default:f(()=>[p(n.$slots,"default",{},()=>[a[1]||(a[1]=S("Prev page"))])]),_:3},16,["type","disabled"]))}}),qe={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},ze={__name:"Pagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:s}){const t=e,o=s,n=oe(),{dir:a}=ie(),i=ue(),b=re(de(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),o),y=d(()=>t.firstIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleRight:i.ui.icons.chevronDoubleLeft)),c=d(()=>t.prevIcon||(a.value==="rtl"?i.ui.icons.chevronRight:i.ui.icons.chevronLeft)),C=d(()=>t.nextIcon||(a.value==="rtl"?i.ui.icons.chevronLeft:i.ui.icons.chevronRight)),v=d(()=>t.lastIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleLeft:i.ui.icons.chevronDoubleRight)),h=d(()=>{var m;return X({extend:X(qe),...((m=i.ui)==null?void 0:m.pagination)||{}})()});return(m,Ve)=>{var j;return r(),g(l(pe),q(l(b),{class:h.value.root({class:[(j=t.ui)==null?void 0:j.root,t.class]})}),{default:f(({page:w,pageCount:D})=>{var Q;return[I(l(Ce),{class:k(h.value.list({class:(Q=t.ui)==null?void 0:Q.list}))},{default:f(({items:ee})=>{var T,G,H,J;return[e.showControls||n.first?(r(),g(l(be),{key:0,"as-child":"",class:k(h.value.first({class:(T=t.ui)==null?void 0:T.first}))},{default:f(()=>[p(m.$slots,"first",{},()=>{var u;return[I(B,{color:e.color,variant:e.variant,size:e.size,icon:y.value,to:(u=e.to)==null?void 0:u.call(e,1)},null,8,["color","variant","size","icon","to"])]})]),_:3},8,["class"])):E("",!0),e.showControls||n.prev?(r(),g(l(Ie),{key:1,"as-child":"",class:k(h.value.prev({class:(G=t.ui)==null?void 0:G.prev}))},{default:f(()=>[p(m.$slots,"prev",{},()=>{var u;return[I(B,{color:e.color,variant:e.variant,size:e.size,icon:c.value,to:w>1?(u=e.to)==null?void 0:u.call(e,w-1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0),(r(!0),L(U,null,_(ee,(u,F)=>{var K,O;return r(),L(U,null,[u.type==="page"?(r(),g(l(xe),{key:F,"as-child":"",value:u.value,class:k(h.value.item({class:(K=t.ui)==null?void 0:K.item}))},{default:f(()=>[p(m.$slots,"item",q({ref_for:!0},{item:u,index:F,page:w,pageCount:D}),()=>{var W;return[I(B,{color:w===u.value?e.activeColor:e.color,variant:w===u.value?e.activeVariant:e.variant,size:e.size,label:String(u.value),ui:{label:h.value.label()},to:(W=e.to)==null?void 0:W.call(e,u.value),square:""},null,8,["color","variant","size","label","ui","to"])]})]),_:2},1032,["value","class"])):(r(),g(l(ge),{key:u.type,index:F,"as-child":"",class:k(h.value.ellipsis({class:(O=t.ui)==null?void 0:O.ellipsis}))},{default:f(()=>[p(m.$slots,"ellipsis",{},()=>[I(B,{color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||l(i).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:2},1032,["index","class"]))],64)}),256)),e.showControls||n.next?(r(),g(l($e),{key:2,"as-child":"",class:k(h.value.next({class:(H=t.ui)==null?void 0:H.next}))},{default:f(()=>[p(m.$slots,"next",{},()=>{var u;return[I(B,{color:e.color,variant:e.variant,size:e.size,icon:C.value,to:w<D?(u=e.to)==null?void 0:u.call(e,w+1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0),e.showControls||n.last?(r(),g(l(ye),{key:3,"as-child":"",class:k(h.value.last({class:(J=t.ui)==null?void 0:J.last}))},{default:f(()=>[p(m.$slots,"last",{},()=>{var u;return[I(B,{color:e.color,variant:e.variant,size:e.size,icon:v.value,to:(u=e.to)==null?void 0:u.call(e,D)},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0)]}),_:2},1032,["class"])]}),_:3},16,["class"])}}},Re={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},we={class:"min-h-[100px] bg-gray-200"},ke=["src"],Se={class:"px-4 py-2"},Be={class:"text-lg font-bold mb-2"},Ne=["href"],Le={class:"text-sm text-gray-500 mb-2"},M="all",Ee="",Ue=P({__name:"index",setup(e){const s=["article"],t=d(()=>9),o=ce(),n=d(()=>o.query.page?Number(o.query.page):1),a=d(()=>(n.value-1)*t.value),{data:i}=Y(d(()=>`${M}_${Ee}_${s.join(",")}_${n.value}_${a.value}_${t.value}`),()=>Z(M).where("type","IN",s).order("date","DESC").skip(a.value).limit(t.value).all(),"$77hSeXQoip"),{data:b}=Y(d(()=>`total_${M}_${s.join(",")}`),()=>Z(M).where("type","IN",s).count(),{lazy:!0});return(y,c)=>{const C=ze;return r(),L("div",null,[c[1]||(c[1]=x("h1",{class:"text-2xl font-bold text-center mb-4"}," Test Page index ",-1)),x("div",Re,[(r(!0),L(U,null,_(l(i),(v,h)=>(r(),L("div",{key:v.id,class:"border border-gray-200 rounded-md relative"},[x("div",we,[x("img",{src:l(ve)(v.id),alt:"Article Image",class:"w-full h-auto mb-4"},null,8,ke)]),x("div",Se,[x("h2",Be,[x("a",{href:v.path,class:"text-blue-500 hover:text-blue-700 absolute top-0 left-0 w-full h-full"},null,8,Ne),S(" "+A(v.title),1)]),x("p",Le,A(v.description),1)])]))),128))]),I(C,{modelValue:l(n),"onUpdate:modelValue":c[0]||(c[0]=v=>fe(n)?n.value=v:null),total:l(b)??0,"items-per-page":l(t),"total-skip":l(a),to:v=>({path:"/",query:{page:v}})},null,8,["modelValue","total","items-per-page","total-skip","to"])])}}});export{Ue as default};
