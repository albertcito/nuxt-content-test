import{z as C,A as q,B as v,e as r,w as c,C as y,D as N,E as I,G as n,P as z,H as ae,I as se,J as le,K as d,L as ne,M as oe,t as U,N as ie,O as ue,y as re,Q as de,R as ce,S as Y,g as P,n as k,f as E,d as L,U as S,F as j,V as ee,v as fe,h as w,W as ve,X as ge}from"./1MIjMgII.js";import{g as me}from"./B54K_KEW.js";import{u as Z}from"./Cr1mHL3I.js";import{q as _}from"./DbfVvocg.js";const pe=C({__name:"PaginationEllipsis",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;return q(),(t,l)=>(r(),v(n(z),I(s,{"data-type":"ellipsis"}),{default:c(()=>[y(t.$slots,"default",{},()=>[l[0]||(l[0]=N("â€¦"))])]),_:3},16))}}),[B,be]=ae("PaginationRoot"),ye=C({__name:"PaginationRoot",props:{page:{},defaultPage:{default:1},itemsPerPage:{},total:{default:0},siblingCount:{default:2},disabled:{type:Boolean},showEdges:{type:Boolean,default:!1},asChild:{type:Boolean},as:{default:"nav"}},emits:["update:page"],setup(e,{emit:s}){const t=e,l=s,{siblingCount:o,disabled:a,showEdges:i}=se(t);q();const g=le(t,"page",l,{defaultValue:t.defaultPage,passive:t.page===void 0}),m=d(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return be({page:g,onPageChange(p){g.value=p},pageCount:m,siblingCount:o,disabled:a,showEdges:i}),(p,x)=>(r(),v(n(z),{as:p.as,"as-child":p.asChild},{default:c(()=>[y(p.$slots,"default",{page:n(g),pageCount:m.value})]),_:3},8,["as","as-child"]))}}),he=C({__name:"PaginationFirst",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e,t=B();q();const l=d(()=>t.page.value===1||t.disabled.value);return(o,a)=>(r(),v(n(z),I(s,{"aria-label":"First Page",type:o.as==="button"?"button":void 0,disabled:l.value,onClick:a[0]||(a[0]=i=>!l.value&&n(t).onPageChange(1))}),{default:c(()=>[y(o.$slots,"default",{},()=>[a[1]||(a[1]=N("First page"))])]),_:3},16,["type","disabled"]))}}),Pe=C({__name:"PaginationLast",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e,t=B();q();const l=d(()=>t.page.value===t.pageCount.value||t.disabled.value);return(o,a)=>(r(),v(n(z),I(s,{"aria-label":"Last Page",type:o.as==="button"?"button":void 0,disabled:l.value,onClick:a[0]||(a[0]=i=>!l.value&&n(t).onPageChange(n(t).pageCount.value))}),{default:c(()=>[y(o.$slots,"default",{},()=>[a[1]||(a[1]=N("Last page"))])]),_:3},16,["type","disabled"]))}});function $(e,s){const t=s-e+1;return Array.from({length:t},(l,o)=>o+e)}function Ce(e){return e.map(s=>typeof s=="number"?{type:"page",value:s}:{type:"ellipsis"})}const V="ellipsis";function xe(e,s,t,l){const a=s,i=Math.max(e-t,1),g=Math.min(e+t,a);if(l){const p=Math.min(2*t+5,s)-2,x=i>3&&Math.abs(a-p-1+1)>2&&Math.abs(i-1)>2,f=g<a-2&&Math.abs(a-p)>2&&Math.abs(a-g)>2;if(!x&&f)return[...$(1,p),V,a];if(x&&!f){const b=$(a-p+1,a);return[1,V,...b]}if(x&&f){const b=$(i,g);return[1,V,...b,V,a]}return $(1,a)}else{const m=t*2+1;return s<m?$(1,a):e<=t+1?$(1,m):s-e<=t?$(s-m+1,a):$(i,g)}}const $e=C({__name:"PaginationList",props:{asChild:{type:Boolean},as:{}},setup(e){const s=e;q();const t=B(),l=d(()=>Ce(xe(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(o,a)=>(r(),v(n(z),ne(oe(s)),{default:c(()=>[y(o.$slots,"default",{items:l.value})]),_:3},16))}}),Ie=C({__name:"PaginationListItem",props:{value:{},asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e;q();const t=B(),l=d(()=>t.page.value===s.value),o=d(()=>t.disabled.value);return(a,i)=>(r(),v(n(z),I(s,{"data-type":"page","aria-label":`Page ${a.value}`,"aria-current":l.value?"page":void 0,"data-selected":l.value?"true":void 0,disabled:o.value,type:a.as==="button"?"button":void 0,onClick:i[0]||(i[0]=g=>!o.value&&n(t).onPageChange(a.value))}),{default:c(()=>[y(a.$slots,"default",{},()=>[N(U(a.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),qe=C({__name:"PaginationNext",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e;q();const t=B(),l=d(()=>t.page.value===t.pageCount.value||t.disabled.value);return(o,a)=>(r(),v(n(z),I(s,{"aria-label":"Next Page",type:o.as==="button"?"button":void 0,disabled:l.value,onClick:a[0]||(a[0]=i=>!l.value&&n(t).onPageChange(n(t).page.value+1))}),{default:c(()=>[y(o.$slots,"default",{},()=>[a[1]||(a[1]=N("Next page"))])]),_:3},16,["type","disabled"]))}}),ze=C({__name:"PaginationPrev",props:{asChild:{type:Boolean},as:{default:"button"}},setup(e){const s=e;q();const t=B(),l=d(()=>t.page.value===1||t.disabled.value);return(o,a)=>(r(),v(n(z),I(s,{"aria-label":"Previous Page",type:o.as==="button"?"button":void 0,disabled:l.value,onClick:a[0]||(a[0]=i=>!l.value&&n(t).onPageChange(n(t).page.value-1))}),{default:c(()=>[y(o.$slots,"default",{},()=>[a[1]||(a[1]=N("Prev page"))])]),_:3},16,["type","disabled"]))}}),Re={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},ke={__name:"Pagination",props:{as:{type:null,required:!1},firstIcon:{type:String,required:!1},prevIcon:{type:String,required:!1},nextIcon:{type:String,required:!1},lastIcon:{type:String,required:!1},ellipsisIcon:{type:String,required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:s}){const t=e,l=s,o=ie(),{dir:a}=ue(),i=re(),g=de(ce(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),l),m=d(()=>t.firstIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleRight:i.ui.icons.chevronDoubleLeft)),p=d(()=>t.prevIcon||(a.value==="rtl"?i.ui.icons.chevronRight:i.ui.icons.chevronLeft)),x=d(()=>t.nextIcon||(a.value==="rtl"?i.ui.icons.chevronLeft:i.ui.icons.chevronRight)),f=d(()=>t.lastIcon||(a.value==="rtl"?i.ui.icons.chevronDoubleLeft:i.ui.icons.chevronDoubleRight)),h=d(()=>{var b;return Y({extend:Y(Re),...((b=i.ui)==null?void 0:b.pagination)||{}})()});return(b,Me)=>{var Q;return r(),v(n(ye),I(n(g),{class:h.value.root({class:[(Q=t.ui)==null?void 0:Q.root,t.class]})}),{default:c(({page:R,pageCount:F})=>{var T;return[P(n($e),{class:k(h.value.list({class:(T=t.ui)==null?void 0:T.list}))},{default:c(({items:te})=>{var X,G,H,J;return[e.showControls||o.first?(r(),v(n(he),{key:0,"as-child":"",class:k(h.value.first({class:(X=t.ui)==null?void 0:X.first}))},{default:c(()=>[y(b.$slots,"first",{},()=>{var u;return[P(S,{color:e.color,variant:e.variant,size:e.size,icon:m.value,to:(u=e.to)==null?void 0:u.call(e,1)},null,8,["color","variant","size","icon","to"])]})]),_:3},8,["class"])):E("",!0),e.showControls||o.prev?(r(),v(n(ze),{key:1,"as-child":"",class:k(h.value.prev({class:(G=t.ui)==null?void 0:G.prev}))},{default:c(()=>[y(b.$slots,"prev",{},()=>{var u;return[P(S,{color:e.color,variant:e.variant,size:e.size,icon:p.value,to:R>1?(u=e.to)==null?void 0:u.call(e,R-1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0),(r(!0),L(j,null,ee(te,(u,A)=>{var K,O;return r(),L(j,null,[u.type==="page"?(r(),v(n(Ie),{key:A,"as-child":"",value:u.value,class:k(h.value.item({class:(K=t.ui)==null?void 0:K.item}))},{default:c(()=>[y(b.$slots,"item",I({ref_for:!0},{item:u,index:A,page:R,pageCount:F}),()=>{var W;return[P(S,{color:R===u.value?e.activeColor:e.color,variant:R===u.value?e.activeVariant:e.variant,size:e.size,label:String(u.value),ui:{label:h.value.label()},to:(W=e.to)==null?void 0:W.call(e,u.value),square:""},null,8,["color","variant","size","label","ui","to"])]})]),_:2},1032,["value","class"])):(r(),v(n(pe),{key:u.type,index:A,"as-child":"",class:k(h.value.ellipsis({class:(O=t.ui)==null?void 0:O.ellipsis}))},{default:c(()=>[y(b.$slots,"ellipsis",{},()=>[P(S,{color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||n(i).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:2},1032,["index","class"]))],64)}),256)),e.showControls||o.next?(r(),v(n(qe),{key:2,"as-child":"",class:k(h.value.next({class:(H=t.ui)==null?void 0:H.next}))},{default:c(()=>[y(b.$slots,"next",{},()=>{var u;return[P(S,{color:e.color,variant:e.variant,size:e.size,icon:x.value,to:R<F?(u=e.to)==null?void 0:u.call(e,R+1):void 0},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0),e.showControls||o.last?(r(),v(n(Pe),{key:3,"as-child":"",class:k(h.value.last({class:(J=t.ui)==null?void 0:J.last}))},{default:c(()=>[y(b.$slots,"last",{},()=>{var u;return[P(S,{color:e.color,variant:e.variant,size:e.size,icon:f.value,to:(u=e.to)==null?void 0:u.call(e,F)},null,8,["color","variant","size","icon","to"])]})]),_:2},1032,["class"])):E("",!0)]}),_:2},1032,["class"])]}),_:3},16,["class"])}}},we={class:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4"},Ne={class:"min-h-[100px] bg-gray-200"},Se=["src"],Be={class:"px-4 py-2"},Le={class:"text-lg font-bold mb-2"},Ee={class:"text-sm text-gray-500 mb-2"},M="all",D=9,Ve="",je=C({__name:"index",setup(e){const s=["article"],t=fe(),l=d(()=>t.query.page?Number(t.query.page):1),o=d(()=>(l.value-1)*D),{data:a}=Z(d(()=>`${M}_${Ve}_${s.join(",")}_${l.value}_${o.value}_${D}`),()=>_(M).where("type","IN",s).order("date","DESC").skip(o.value).limit(D).all(),"$77hSeXQoip"),{data:i}=Z(d(()=>`total_${M}_${s.join(",")}`),()=>_(M).where("type","IN",s).count(),{lazy:!0});return(g,m)=>{const p=ve,x=ke;return r(),L("div",null,[m[1]||(m[1]=w("h1",{class:"text-2xl font-bold text-center mb-4"}," Test Page index ",-1)),w("div",we,[(r(!0),L(j,null,ee(n(a),(f,h)=>(r(),L("div",{key:f.id,class:"border border-gray-200 rounded-md relative"},[w("div",Ne,[w("img",{src:n(me)(f.id),alt:"Article Image",class:"w-full h-auto mb-4"},null,8,Se)]),w("div",Be,[w("h2",Le,[P(p,{to:f.path,class:"text-blue-500 hover:text-blue-700 absolute top-0 left-0 w-full h-full"},null,8,["to"]),N(" "+U(f.title),1)]),w("p",Ee,U(f.description),1)])]))),128))]),P(x,{modelValue:n(l),"onUpdate:modelValue":m[0]||(m[0]=f=>ge(l)?l.value=f:null),total:n(i)??0,"items-per-page":D,"total-skip":n(o),to:f=>({path:"/",query:{page:f}})},null,8,["modelValue","total","total-skip","to"])])}}});export{je as default};
